resources:
  - name: conan_pipeline_src
    type: GitRepo
    configuration:
      gitProvider: yann_github
      path: cyan21/conan-pipeline
      branches:
        include: master 
      buildOn:
         commit: true

  - name: fspec_libA_ok
    type: FileSpec
    configuration:
      sourceArtifactory: artifactory_eu
      pattern: winter-conan/libA/
  - name: fspec_deps_ok
    type: FileSpec
    configuration:
      sourceArtifactory: artifactory_eu
      pattern: winter-conan/libB/

  - name: App_BuildInfo 
    type: BuildInfo 
    configuration:
      sourceArtifactory: artifactory_eu
      buildName: cppApp 
      buildNumber: ${run_number} 
 # - name: App_BuildInfo_SIT_ok
 #   type: BuildInfo 
 #   configuration:
 #     sourceArtifactory: artifactory_eu
 #     buildName: cppApp 
 #     buildNumber: ${run_number} 
  - name: App_BuildInfo_prod_ok
    type: BuildInfo 
    configuration:
      sourceArtifactory: artifactory_eu
      buildName: cppApp 
      buildNumber: ${run_number} 

  - name: aql_libA_ok
    type: Aql
    configuration:
      sourceArtifactory: artifactory_eu 
      query: > 
        items.find({
        "$and": [
        {"@build.name": "libA"},
        {"@build.number": "2"}
        ]
        })
